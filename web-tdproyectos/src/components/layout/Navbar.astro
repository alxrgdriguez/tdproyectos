<nav
  class="bg-white dark:bg-gray-900 shadow-lg sticky top-0 z-50 font-sans text-black dark:text-white"
  role="navigation"
  aria-label="Navegación principal"
>
  <div
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"
  >
    <a href="/" class="flex flex-col group">
      <span
        class="text-2xl md:text-4xl font-extrabold bg-gradient-to-r from-blue-700 to-blue-900 bg-clip-text text-transparent group-hover:from-blue-600 group-hover:to-blue-800 transition-all duration-300 drop-shadow-md"
      >
        TALLER DE PROYECTOS
      </span>
      <span
        class="text-sm text-gray-600 dark:text-gray-400 font-semibold tracking-wide uppercase"
      >
        Ingeniería & Delineación
      </span>
    </a>

    <!-- Menú Desktop -->
    <ul class="hidden lg:flex space-x-10 text-base font-medium">
      <li>
        <a
          href="#inicio"
          aria-current="page"
          class="relative group hover:text-blue-500 transition"
          >Inicio<span
            class="absolute left-0 bottom-0 w-full h-0.5 bg-blue-600 scale-x-0 transition-transform origin-left group-hover:scale-x-100"
          ></span></a
        >
      </li>
      <li>
        <a
          href="#sobre-nosotros"
          class="relative group hover:text-blue-500 transition"
          >Sobre Nosotros<span
            class="absolute left-0 bottom-0 w-full h-0.5 bg-blue-600 scale-x-0 transition-transform origin-left group-hover:scale-x-100"
          ></span></a
        >
      </li>
      <li>
        <a
          href="#servicios"
          class="relative group hover:text-blue-500 transition"
          >Servicios<span
            class="absolute left-0 bottom-0 w-full h-0.5 bg-blue-600 scale-x-0 transition-transform origin-left group-hover:scale-x-100"
          ></span></a
        >
      </li>
      <li>
        <a
          href="#proyectos"
          class="relative group hover:text-blue-500 transition"
          >Proyectos<span
            class="absolute left-0 bottom-0 w-full h-0.5 bg-blue-600 scale-x-0 transition-transform origin-left group-hover:scale-x-100"
          ></span></a
        >
      </li>
      <li>
        <a
          href="#contacto"
          class="relative group hover:text-blue-500 transition"
          >Contacto<span
            class="absolute left-0 bottom-0 w-full h-0.5 bg-blue-600 scale-x-0 transition-transform origin-left group-hover:scale-x-100"
          ></span></a
        >
      </li>
    </ul>

    <!-- Teléfono -->
    <a
      href="tel:+34 950 46 54 66"
      class="hidden lg:flex items-center gap-2 hover:text-blue-500 transition"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-blue-700"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M7 4h10a1 1 0 011 1v14a1 1 0 01-1 1H7a1 1 0 01-1-1V5a1 1 0 011-1zM11 17h2"
        ></path>
      </svg>
      <span class="text-sm font-semibold">+34 950 46 54 66</span>
    </a>

    <!-- Botón hamburguesa: visible en móvil y tablet -->
    <button
      id="menu-btn"
      class="lg:hidden flex flex-col justify-center items-center w-10 h-10 group"
      aria-label="Abrir menú"
    >
      <span
        class="block w-7 h-1 bg-blue-700 rounded transition-all duration-300 mb-1"
      ></span>
      <span
        class="block w-7 h-1 bg-blue-700 rounded transition-all duration-300 mb-1"
      ></span>
      <span
        class="block w-7 h-1 bg-blue-700 rounded transition-all duration-300"
      ></span>
    </button>
  </div>

  <!-- Menú móvil-->
  <div
    id="mobile-menu"
    class="lg:hidden fixed inset-0 bg-gradient-to-br from-white via-blue-50 to-blue-100 backdrop-blur-sm text-blue-900 z-50 flex flex-col items-center justify-center space-y-6 text-xl font-semibold opacity-0 pointer-events-none transform scale-95 transition-all duration-300 ease-out"
    role="dialog"
    aria-modal="true"
    aria-labelledby="mobile-menu-title"
  >
    <!-- Header del menú -->
    <div
      class="absolute top-0 left-0 right-0 p-6 flex justify-between items-center border-b border-blue-200/30"
    >
      <h2 id="mobile-menu-title" class="text-lg font-bold text-blue-800">
        Menú
      </h2>
      <button
        id="close-menu-btn"
        class="p-2 rounded-full text-blue-900 hover:text-white hover:bg-blue-600 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
        aria-label="Cerrar menú"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2.5"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <!-- Navegación principal -->
    <nav
      class="flex flex-col items-center space-y-6 mt-8"
      aria-label="Navegación principal"
    >
      <a
        href="#inicio"
        class="group relative px-8 py-3 rounded-xl hover:bg-white/50 hover:shadow-md hover:text-blue-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500"
        onclick="closeMenu()"
      >
        <span class="relative z-10">Inicio</span>
        <div
          class="absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl opacity-0 group-hover:opacity-10 transition-opacity duration-300"
        >
        </div>
      </a>

      <a
        href="#sobre-nosotros"
        class="group relative px-8 py-3 rounded-xl hover:bg-white/50 hover:shadow-md hover:text-blue-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500"
        onclick="closeMenu()"
      >
        <span class="relative z-10">Sobre Nosotros</span>
        <div
          class="absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl opacity-0 group-hover:opacity-10 transition-opacity duration-300"
        >
        </div>
      </a>

      <a
        href="#servicios"
        class="group relative px-8 py-3 rounded-xl hover:bg-white/50 hover:shadow-md hover:text-blue-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500"
        onclick="closeMenu()"
      >
        <span class="relative z-10">Servicios</span>
        <div
          class="absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl opacity-0 group-hover:opacity-10 transition-opacity duration-300"
        >
        </div>
      </a>

      <a
        href="#proyectos"
        class="group relative px-8 py-3 rounded-xl hover:bg-white/50 hover:shadow-md hover:text-blue-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500"
        onclick="closeMenu()"
      >
        <span class="relative z-10">Proyectos</span>
        <div
          class="absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl opacity-0 group-hover:opacity-10 transition-opacity duration-300"
        >
        </div>
      </a>

      <a
        href="#contacto"
        class="group relative px-8 py-3 rounded-xl hover:bg-white/50 hover:shadow-md hover:text-blue-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500"
        onclick="closeMenu()"
      >
        <span class="relative z-10">Contacto</span>
        <div
          class="absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl opacity-0 group-hover:opacity-10 transition-opacity duration-300"
        >
        </div>
      </a>
    </nav>

    <!-- Separador -->
    <div
      class="w-32 h-px bg-gradient-to-r from-transparent via-blue-300 to-transparent my-4"
    >
    </div>

    <!-- Información de contacto -->
    <div class="flex flex-col items-center space-y-4">
      <a
        href="tel:+34950465466"
        class="group flex items-center gap-3 px-6 py-3 bg-white/30 backdrop-blur-sm rounded-full border border-blue-200/50 hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500"
        aria-label="Llamar al teléfono +34 950 46 54 66"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 text-blue-700 group-hover:text-white transition-colors"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
          ></path>
        </svg>
        <span class="text-base font-medium">+34 950 46 54 66</span>
      </a>

      <script type="module">
        const btn = document.getElementById("menu-btn");
        const closeBtn = document.getElementById("close-menu-btn");
        const menu = document.getElementById("mobile-menu");
        let open = false;

        const openMenu = () => {
          open = true;
          menu.classList.remove("opacity-0", "pointer-events-none", "scale-95");
          menu.classList.add("opacity-100", "scale-100");
          btn.classList.add("open");
          document.body.style.overflow = "hidden";
        };

        const closeMenu = () => {
          open = false;
          menu.classList.add("opacity-0", "pointer-events-none", "scale-95");
          menu.classList.remove("opacity-100", "scale-100");
          btn.classList.remove("open");
          document.body.style.overflow = "";
        };

        btn?.addEventListener("click", openMenu);
        closeBtn?.addEventListener("click", closeMenu);

        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            const targetId = this.getAttribute("href");
            if (targetId && targetId.startsWith("#")) {
              e.preventDefault();
              const targetElement = document.querySelector(targetId);
              if (targetElement) {
                targetElement.scrollIntoView({
                  behavior: "smooth",
                  block: "start",
                });
              }
              closeMenu();
            }
          });
        });
      </script>

      <style>
        /* Animación hamburguesa */
        #menu-btn.open span:nth-child(1) {
          transform: rotate(45deg) translate(5px, 5px);
        }
        #menu-btn.open span:nth-child(2) {
          opacity: 0;
        }
        #menu-btn.open span:nth-child(3) {
          transform: rotate(-45deg) translate(5px, -5px);
        }
      </style>
    </div>
  </div>
</nav>
