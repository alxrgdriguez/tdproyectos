---
import MobileMenu from "./MobileMenu.astro";

// Definición de enlaces
const navLinks = [
  { href: "#inicio", label: "Inicio", current: true },
  { href: "#sobre-nosotros", label: "Sobre Nosotros", current: false },
  { href: "#servicios", label: "Servicios", current: false },
  { href: "#proyectos", label: "Proyectos", current: false },
  { href: "#contacto", label: "Contacto", current: false },
];

const phone = "+34 950 46 54 66";
---

<nav
  class="bg-white dark:bg-gray-900 shadow-lg sticky top-0 z-50 font-sans text-gray-800 dark:text-white transition-colors duration-300"
  role="navigation"
  aria-label="Navegación principal"
>
  <div
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center"
  >
    <!-- Logo -->
    <a href="/" class="flex flex-col group">
      <span
        class="text-2xl md:text-3xl font-extrabold bg-gradient-to-r from-blue-700 to-blue-900 dark:from-blue-500 dark:to-blue-700 bg-clip-text text-transparent transition-all duration-500"
      >
        TALLER DE PROYECTOS
      </span>
      <span
        class="text-xs sm:text-sm ml-1 font-semibold tracking-wide uppercase text-gray-500 dark:text-gray-400"
      >
        Arquitectura & Ingeniería
      </span>
    </a>

    <!-- Menú Desktop -->
    <ul class="hidden lg:flex space-x-10 text-lg font-medium">
      {
        navLinks.map((link) => (
          <li>
            <a
              href={link.href}
              aria-current={link.current ? "page" : undefined}
              class="relative inline-block px-1 py-2 rounded group
                  text-gray-700 dark:text-gray-300
                  hover:text-blue-600 dark:hover:text-blue-400
                    aria-current:page:text-blue-700 dark:aria-current:page:text-blue-400
                    focus:outline-none focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900/50 focus:ring-offset-2 dark:focus:ring-offset-gray-900
                    transition-all duration-300"
            >
              {link.label}

              <span
                class="absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-500/0 via-blue-500 to-blue-500/0 
                       rounded-full pointer-events-none
                       transform scale-x-0 
                       group-hover:scale-x-100
                       aria-current:page:scale-x-100
                       transition-transform duration-500"
              />
            </a>
          </li>
        ))
      }
    </ul>

    <!-- Teléfono -->
    <a
      href={`tel:${phone.replace(/\s/g, "")}`}
      class="hidden lg:flex items-center gap-2.5 text-blue-700 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 focus:outline-none focus:ring-0 transition-all duration-300"
      aria-label={`Llamar al ${phone}`}
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        aria-hidden="true"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M7 4h10a1 1 0 011 1v14a1 1 0 01-1 1H7a1 1 0 01-1-1V5a1 1 0 011-1zM11 17h2"
        ></path>
      </svg>
      <span class="text-base font-semibold tracking-wide">{phone}</span>
    </a>

    <!-- Menú Móvil -->
    <div class="lg:hidden">
      <MobileMenu client:load />
    </div>
  </div>
</nav>
